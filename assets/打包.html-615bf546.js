import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as l,a}from"./app-fd217ae5.js";const o={},p=a(`<p>打包</p><ol><li>安装<code>electron-builder</code></li></ol><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">npm i electron</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">builder </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">D</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li><code>package.json</code></li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">&quot;scripts&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;start&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;nodemon --watch main.js --exec electron .&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;dist&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;electron-builder --win --x64&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#98C379;">&quot;build&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;appId&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;simpleMusicPlayer&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;mac&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;target&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;dmg&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;zip&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;win&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;target&quot;</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&quot;nsis&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#98C379;">&quot;zip&quot;</span><span style="color:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;icon&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./icons/player.ico&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">&quot;nsis&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;oneClick&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 是否一键安装</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;allowElevation&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 允许请求提升。 如果为false，则用户必须使用提升的权限重新启动安装程序。</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;allowToChangeInstallationDirectory&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 允许修改安装目录</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;installerIcon&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./build/icons/aaa.ico&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#7F848E;font-style:italic;">// 安装图标</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;uninstallerIcon&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./build/icons/bbb.ico&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#7F848E;font-style:italic;">//卸载图标</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;installerHeaderIcon&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;./build/icons/aaa.ico&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 安装时头部图标</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;createDesktopShortcut&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 创建桌面图标</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;createStartMenuShortcut&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span><span style="color:#7F848E;font-style:italic;">// 创建开始菜单图标</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;shortcutName&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;xxxx&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 图标名称</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;include&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;build/script/installer.nsh&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#7F848E;font-style:italic;">// 包含的自定义nsis脚本 这个对于构建需求严格得安装过程相当有用。</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">&quot;script&quot;</span><span style="color:#ABB2BF;"> : </span><span style="color:#98C379;">&quot;build/script/installer.nsh&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// NSIS脚本的路径，用于自定义安装程序。 默认为build / installer.nsi</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>打包失败可以改源</li></ol><div class="language-powershell line-numbers-mode" data-ext="powershell"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">electron</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">builder</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">binaries_mirror</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">https:</span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">npm.taobao.org</span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;">mirrors</span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;">electron</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">builder</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">binaries</span><span style="color:#56B6C2;">/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,7),e=[p];function t(c,r){return n(),l("div",null,e)}const y=s(o,[["render",t],["__file","打包.html.vue"]]);export{y as default};
