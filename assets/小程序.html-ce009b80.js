import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{o as n,c as a,a as l}from"./app-fd217ae5.js";const e={},o=l(`<ol><li>新建项目</li><li>在详情-本地配置-调试基础库里选择占比最多的库</li><li>关闭<code>sitemap</code>索引提示，在<code>project.config.json</code>中<code>setting</code>加入<code>&quot;checkSiteMap&quot;: false</code></li></ol><h2 id="微信小程序配置文件" tabindex="-1"><a class="header-anchor" href="#微信小程序配置文件" aria-hidden="true">#</a> 微信小程序配置文件</h2><table><thead><tr><th style="text-align:left;"> </th><th style="text-align:left;"> </th></tr></thead><tbody><tr><td style="text-align:left;">pages</td><td style="text-align:left;">接受一个数组，每一项都是字符串，来指定小程序由那些页面组成</td></tr><tr><td style="text-align:left;">window</td><td style="text-align:left;">用于设置小程序的状态栏、导航条、标题、窗口背景色</td></tr><tr><td style="text-align:left;">tabBar</td><td style="text-align:left;">tabBar 中的 list 是一个数组，只能配置最少 2 个最多 5 个 tab</td></tr></tbody></table><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h2><p>在 app.js 用 App({})去创建一个应用实例对象</p><table><thead><tr><th style="text-align:left;"> </th><th style="text-align:left;"> </th></tr></thead><tbody><tr><td style="text-align:left;">onLaunch</td><td style="text-align:left;">function(option){..} 在整个应用启动时触发，只会触发一次</td></tr><tr><td style="text-align:left;">onShow</td><td style="text-align:left;">function(option){..} 应用程序显示到屏幕上，每次成为焦点状态都会触发</td></tr><tr><td style="text-align:left;">onHide</td><td style="text-align:left;">function(){..}</td></tr><tr><td style="text-align:left;">onError</td><td style="text-align:left;">function(msg){..} 只能捕获到运行阶段的异常，通常可以在该函数将异常收集以邮件的方式发送给开发者</td></tr></tbody></table><h2 id="page-创建一个页面实例对象" tabindex="-1"><a class="header-anchor" href="#page-创建一个页面实例对象" aria-hidden="true">#</a> Page({})创建一个页面实例对象</h2><table><thead><tr><th style="text-align:left;"> </th><th style="text-align:left;"> </th></tr></thead><tbody><tr><td style="text-align:left;">onLoad(){}</td><td style="text-align:left;">页面加载，这个页面即将要工作了，数据赋值、网络请求的发送可以在此函数中进行</td></tr><tr><td style="text-align:left;">onShow(){}</td><td style="text-align:left;">页面进入焦点状态（前台展示），在页面展示到可视区域之前执行</td></tr><tr><td style="text-align:left;">onReady(){}</td><td style="text-align:left;">当页面上的数据渲染完成，当页面结构已经被渲染完成的时候会执行，如果需要操作页面结构，需要在此函数中进行</td></tr><tr><td style="text-align:left;">onHide(){}</td><td style="text-align:left;">页面离开可视区域就会执行，页面很可能还在内存中</td></tr><tr><td style="text-align:left;">onUnload(){}</td><td style="text-align:left;">当页面被销毁掉，页面从内存中销毁时会执行</td></tr></tbody></table><p>除了生命周期里面约定的钩子函数，还可以定义任何成员，定义在这里的成员可以在后续每一个页面中共享<br><code>getApp()</code>获取全局唯一的应用程序实例对象</p><h2 id="vscode-中编辑" tabindex="-1"><a class="header-anchor" href="#vscode-中编辑" aria-hidden="true">#</a> VsCode 中编辑</h2><p>安装插件<code>vscode wxml</code> &amp;&amp; <code>vscode-wechat</code></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;emmet.syntaxProfiles&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">&quot;vue-html&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;html&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">&quot;vue&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;html&quot;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">&quot;wxml&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;html&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;files.associtations&quot;</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">&quot;*.wxss&quot;</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&quot;css&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="wxml" tabindex="-1"><a class="header-anchor" href="#wxml" aria-hidden="true">#</a> wxml</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">input</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">value</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{{msg}}&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">class</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;shop-nav&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">selectable</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;true&quot;</span><span style="color:#ABB2BF;">&gt; {{ msg + 1 }} \\n!&lt;/</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">style</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;width:100%&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">mode</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;true&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">src</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;/images/home.png&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">image</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">navigator</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">url</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;/pages/shop/shop_cel&quot;</span><span style="color:#ABB2BF;">&gt;shop-cel&lt;/</span><span style="color:#E06C75;">navigator</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">navigator</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">url</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;/pages/shop/shop&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">open-type</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;switchTab&quot;</span><span style="color:#ABB2BF;">&gt;shop&lt;/</span><span style="color:#E06C75;">navigator</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>block 只是一个包装元素，不会对界面产生影响</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">block</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:for</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{{ arr }}&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:for-index</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;i&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:for-item</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;e&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:key</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;i&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:for-item</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;itemName&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;{{e.name}}&lt;/</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:if</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;i == 0&quot;</span><span style="color:#ABB2BF;">&gt;A&lt;/</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:ifelse</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;i &lt; 3&quot;</span><span style="color:#ABB2BF;">&gt;B&lt;/</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;"> wx:else&gt;C&lt;/</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">block</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">hidden</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{{AA}}&quot;</span><span style="color:#ABB2BF;">&gt;&lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>this.setData({name:&#39;zs&#39;})</code>修改数据并视图更新</p><h2 id="wsx" tabindex="-1"><a class="header-anchor" href="#wsx" aria-hidden="true">#</a> wsx</h2><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#C678DD;">{</span><span style="color:#ABB2BF;">{foo.addPostfix(msg)}</span><span style="color:#C678DD;">}</span><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">wxs</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">module</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;foo&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;"> module.export =</span><span style="color:#C678DD;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">   </span><span style="color:#E06C75;">addPostfix</span><span style="color:#ABB2BF;">:</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">data</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">data</span><span style="color:#56B6C2;">+</span><span style="color:#98C379;">&#39;xx&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">   }</span></span>
<span class="line"><span style="color:#C678DD;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">wxs</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>wsx</code>标签类似于<code>html</code>中的<code>script</code>，可以定义一些行内脚本</p><h2 id="wxss" tabindex="-1"><a class="header-anchor" href="#wxss" aria-hidden="true">#</a> wxss</h2><div class="language-css line-numbers-mode" data-ext="css"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">@import</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;style/common.wxss&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D19A66;">.shop-nav-item</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  background-color: </span><span style="color:#D19A66;">#fff</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  display: </span><span style="color:#D19A66;">flex</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  flex-direction: </span><span style="color:#D19A66;">column</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  justify-content: </span><span style="color:#D19A66;">center</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  align-items: </span><span style="color:#D19A66;">center</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="事件" tabindex="-1"><a class="header-anchor" href="#事件" aria-hidden="true">#</a> 事件</h2><p>在标签中<code>bindTap=&quot;foo&quot;</code>，在<code>js</code>中 <code>data</code>同级写入<code>foo(){}</code>，绑定事件不冒泡用<code>catchTap</code></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">bindtap</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;tapHead&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">data-name</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;aaa&quot;</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">-------------</span></span>
<span class="line"><span style="color:#ABB2BF;">Page({</span></span>
<span class="line"><span style="color:#ABB2BF;">  tapHead(e){</span></span>
<span class="line"><span style="color:#ABB2BF;">    console.log(e.currentTarget.dataset.name)</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  .......</span></span>
<span class="line"><span style="color:#ABB2BF;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="发送请求" tabindex="-1"><a class="header-anchor" href="#发送请求" aria-hidden="true">#</a> 发送请求</h2><ul><li>发送异步请求不再是<code>WEB</code>的<code>Ajax</code></li><li>没有跨域</li><li>请求的地址必须在管理后台</li><li>服务器域名必须备案</li><li>服务器必须使用 https 协议</li></ul><p>创建一个函数，在函数内部返回一个<code>Promise</code>实例<br> 在<code>Promise</code>实例内部进行异步操作<br> 当异步操作成功时，调用<code>resolve</code>函数返回数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">app</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">getApp</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">fetch</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Promise</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">resolve</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">reject</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E5C07B;">wx</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">request</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">app</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">config</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">apiBase</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#61AFEF;">success</span><span style="color:#ABB2BF;">: </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">res</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">res</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">      },</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#61AFEF;">fail</span><span style="color:#ABB2BF;">: </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">error</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#61AFEF;">reject</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">error</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">      },</span></span>
<span class="line"><span style="color:#ABB2BF;">    })</span></span>
<span class="line"><span style="color:#ABB2BF;">  })</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>app.js</code>中定义</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">App</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">config</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">apiBase</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;https://locally.uieee.com&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重复操作上拉可能会同时触发多个加载下一页的网络请求；三个网络请求同时发送出去，很有可能后发出去的请求先收到响应，需要节流处理。</p><h2 id="组件" tabindex="-1"><a class="header-anchor" href="#组件" aria-hidden="true">#</a> 组件</h2><ol><li>在根目录添加<code>components</code>文件夹，新建一个组件名的文件夹，右键选择新建<code>components</code>，输入组件名并回车</li><li>编写组件；<code>observers</code>监听数据</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;">&gt;{{ storyItem.time }}&lt;/</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">bindtap</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;read&quot;</span><span style="color:#ABB2BF;">&gt;{{ readFormate }}阅读&lt;/</span><span style="color:#E06C75;">text</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">-------------</span></span>
<span class="line"><span style="color:#ABB2BF;">Component({</span></span>
<span class="line"><span style="color:#ABB2BF;">  properties: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    storyItem: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      type: Object,</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  observers:{</span></span>
<span class="line"><span style="color:#ABB2BF;">    [&#39;storyItem.read&#39;](v){</span></span>
<span class="line"><span style="color:#ABB2BF;">      this.setData({readFormate : v &gt; 10000 ? (Math.floor(v/10000) + &#39;万&#39;) : v})</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  data: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    readFormate: 0</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  methods: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    read(){</span></span>
<span class="line"><span style="color:#ABB2BF;">      this.triggerEvent(&#39;ClickRead&#39;,&#39;555&#39;)</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">③在Page页面的json文件里，引入组件</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">  &quot;usingComponents&quot;: {</span></span>
<span class="line"><span style="color:#ABB2BF;">    &quot;zhen-story-item&quot;: &quot;/components/storyListItem/storyListItem&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>使用组件</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">block</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:for</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{{ storyList }}&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">wx:key</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;index&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">zhen-story-item</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">storyItem</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{{ item }}&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">bindClickRead</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;clickRead&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">zhen-story-item</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">block</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">---------------------</span></span>
<span class="line"><span style="color:#ABB2BF;">clickRead(data){</span></span>
<span class="line"><span style="color:#ABB2BF;"> console.log(data.deteail)</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,37),p=[o];function t(c,r){return n(),a("div",null,p)}const d=s(e,[["render",t],["__file","小程序.html.vue"]]);export{d as default};
