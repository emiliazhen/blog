import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as n,a as l}from"./app-fd217ae5.js";const p={},o=l(`<h2 id="ambientlight-环境全局光" tabindex="-1"><a class="header-anchor" href="#ambientlight-环境全局光" aria-hidden="true">#</a> AmbientLight 环境全局光</h2><p>环境光会照亮场景中所有的物体，在计算物体的颜色的时候，都会叠加上环境光的颜色。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">light</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">AmbientLight</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0x404040</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">// 创建一个灰色的环境光</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">light</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>由于环境光作用于所有的物体，所有的材质，所以环境光是没有方向的，也无法产生阴影效果</p><h2 id="directionallight-平行光" tabindex="-1"><a class="header-anchor" href="#directionallight-平行光" aria-hidden="true">#</a> DirectionalLight 平行光</h2><p>平行光是以特定的方向发射的光。它产生的光都是平行的状态，主要用于模拟太阳光线。 创建平行光也接受两个值，颜色和光线强度</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">directionalLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">DirectionalLight</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0xffffff</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0.5</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//创建一个颜色为纯白色并且强度为默认的一半的平行光</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">directionalLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>平行光除了可以动态修改光的颜色和强度外，还可以通过设置它的位置和目标位置来确定平行光的照射方向（两点确定一条直线的概念）</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">directionalLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">DirectionalLight</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0xffffff</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0.5</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">color</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0x000000</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//将光照颜色修改为黑色</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">intensity</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1.0</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//将光照强度修改为默认</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">position</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//设置平行光的位置</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">target</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//设置当前的平行光的朝向位置</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">directionalLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加阴影效果" tabindex="-1"><a class="header-anchor" href="#添加阴影效果" aria-hidden="true">#</a> 添加阴影效果</h2><p>平行光是可以产生投影效果的</p><ol><li>设置渲染器可以渲染阴影效果</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">renderer</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadowMap</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">enabled</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 渲染器</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>实例化灯光时，需要设置灯光渲染阴影</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E06C75;">directionalLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">DirectionalLight</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;#ffffff&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">castShadow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">// 设置平行光投射投影</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">directionalLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>还需要设置模型哪些可以产生阴影和哪些模型可以接收阴影</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">sphere</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">castShadow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//开启阴影</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">sphere</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">cube</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">castShadow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//开启阴影</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">cube</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">plane</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">receiveShadow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//可以接收阴影</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">plane</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于设置阴影是一项十分耗性能的工作，所以我们需要尽量设置合适的阴影渲染范围和密度。平行光阴影的实现原理是通过正交相机<code>OrthographicCamera</code>来通过检测当前模型，也就是<code>directionalLight.shadow.camera</code>就是一个正交相机，只要在这个正交相机可视范围内的可以投影的物体才可以被设置投影。并且我们可以通过设置一些相机的属性属性来实现产生阴影的范围</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">camera</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">near</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">20</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//产生阴影的最近距离</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">camera</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">far</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//产生阴影的最远距离</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">camera</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//产生阴影距离位置的最左边位置</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">camera</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//最右边</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">camera</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">top</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//最上边</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">camera</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">bottom</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//最下面</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//这两个值决定生成阴影密度 默认512</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mapSize</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">height</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1024</span></span>
<span class="line"><span style="color:#E5C07B;">directionalLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">shadow</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">mapSize</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">width</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1024</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pointlight-点光源" tabindex="-1"><a class="header-anchor" href="#pointlight-点光源" aria-hidden="true">#</a> PointLight 点光源</h2><p>点光源就是从一个点的位置向四面八方发射出去光，一个简单的例子就是一个裸露的灯泡<br> 点光源支持四个参数配置，除了前两个颜色和光的强度外，另外两个是照射范围和衰减度。<br> 第三个参数照射范围，如果物体距离点光源超过这个距离，将不会受到点光源的影响，默认是所有的物体会受到点光源的影响。如果设置了参数，将按照第四个参数，衰减度的值来慢慢减少影响，默认是<code>1</code>，如果需要模拟现实中的效果，这个参数可以设置为<code>2</code>。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">pointLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">PointLight</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0xff0000</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//白色点光源</span></span>
<span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">position</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">pointLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这些属性也可以通过动态修改</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">color</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0x000000</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//修改光照颜色</span></span>
<span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">intensity</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0.5</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改光的强度</span></span>
<span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">distance</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改光的照射范围</span></span>
<span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">decay</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1.0</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改衰减度</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实现点光源阴影效果和实现平行光的阴影效果的设置基本一样，而且由于点光源是散射，阴影效果会终止在点光源的影响范围内。我们可以仿照平行光的阴影实现过程进行实现，只是将平行光修改为了点光源</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E06C75;">pointLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">PointLight</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;#ffffff&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">position</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">60</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//告诉平行光需要开启阴影投射</span></span>
<span class="line"><span style="color:#E5C07B;">pointLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">castShadow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">pointLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="spotlight-聚光灯光源" tabindex="-1"><a class="header-anchor" href="#spotlight-聚光灯光源" aria-hidden="true">#</a> SpotLight 聚光灯光源</h2><p>聚光灯光源的效果也是从一个点发出光线，然后沿着一个一个圆锥体进行照射，可以模仿手电筒，带有灯罩的灯泡等效果。 实现聚光灯的案例最简单是直接设置一个颜色即可，默认照射原点位置的光照<br> 第二个参数光照强度；第三个参数照射范围；第四个参数聚光灯椎体角度；，第五个参数设置交接渐变得过渡效果，聚光灯智能照射一定的区域物体，所以会出现光亮和无法照射地方的交接；第六个参数设置聚光灯的衰减度，和点光源一样</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">spotLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">SpotLight</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0xffffff</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2.0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0.5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2.0</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">position</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1000</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">100</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">spotLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改相关配置项</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">color</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0x000000</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//修改光照颜色</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">intensity</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0.5</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改光的强度</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">distance</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">50</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改光的照射范围</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">angle</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Math</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">PI</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改光的照射弧度</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">penumbra</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1.0</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改交界过渡</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">decay</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1.0</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;">//修改衰减度</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改聚光灯的 target 来修改光的照射方向</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">target</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//修改照射方向</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>实现聚光灯阴影和实现平行光和点光源的设置一样，聚光灯的设置也是将可以生成阴影设置打开，并将聚光灯添加到场景中即可</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E06C75;">spotLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">SpotLight</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;#ffffff&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">position</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">40</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">60</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">//告诉平行光需要开启阴影投射</span></span>
<span class="line"><span style="color:#E5C07B;">spotLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">castShadow</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">true</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">spotLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="hemispherelight-室外光源" tabindex="-1"><a class="header-anchor" href="#hemispherelight-室外光源" aria-hidden="true">#</a> HemisphereLight 室外光源</h2><p>这个光源主要是为了模拟在户外的环境光效果，比如在蓝天绿地的户外，模型下面会显示出来绿色的环境光，而上方则会受到蓝天的影响而颜色偏蓝。 实例化室外光源支持三个参数：天空的颜色，地面的颜色，和光的强度</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#C678DD;">var</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">hemisphereLight</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">new</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">THREE</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">HemisphereLight</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0xffffbb</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0x080820</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">scene</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">hemisphereLight</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>配置属性修改</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">hemisphereLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">color</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0xffffff</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//将天空颜色修改为白色</span></span>
<span class="line"><span style="color:#E5C07B;">hemisphereLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">groundColor</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0x000000</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//将地面颜色修改为黑色</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>修改 position 配置项修改渲染方向</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#E5C07B;">hemisphereLight</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">position</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">set</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">//默认从上往下渲染，也就是天空在上方，当前修改为了，天空颜色从下往上渲染</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,42),e=[o];function t(c,B){return a(),n("div",null,e)}const y=s(p,[["render",t],["__file","基本元素光照.html.vue"]]);export{y as default};
